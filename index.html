<!DOCTYPE html>
<html>
    <head>

        <script>if (typeof module === 'object') {
                window.module = module;
                module = undefined;
            }</script> 
        <meta charset="UTF-8">
        <title>WWSU DJ Controls</title>
        <script src="assets/js/jquery-3.3.1.min.js"></script>
        <script src="assets/js/bootstrap/bootstrap.bundle.min.js"></script>
        <script src="assets/js/fontawesome.js"></script>
        <script src="assets/js/iziToast.min.js"></script>
        <script src="assets/js/iziModal.min.js"></script>
        <script src="assets/js/moment.min.js"></script>
        <script src="assets/js/moment-duration-format.js"></script>
        <script src="assets/js/taffy-min.js"></script>
        <script src="assets/js/sails.io.js"></script>
        <link rel="stylesheet" href="assets/styles/bootstrap/mytheme.min.css" type="text/css">
        <link rel="stylesheet" href="assets/styles/animate.css" type="text/css">
        <link rel="stylesheet" href="assets/styles/iziToast.min.css" type="text/css">
        <link rel="stylesheet" href="assets/styles/iziModal.min.css" type="text/css">
        <link rel="stylesheet" href="assets/styles/fontawesome.css" type="text/css">
        <style>
            .btn-circle {
                width: 30px;
                height: 30px;
                text-align: center;
                padding: 6px 0;
                font-size: 12px;
                line-height: 1.428571429;
                border-radius: 15px;
            }
            .btn-circle.btn-lg {
                width: 50px;
                height: 50px;
                padding: 10px 16px;
                font-size: 18px;
                line-height: 1.33;
                border-radius: 25px;
            }
            .btn-circle.btn-xl {
                width: 70px;
                height: 70px;
                padding: 10px 16px;
                font-size: 24px;
                line-height: 1.33;
                border-radius: 35px;
            }

            .clock {
                border-radius: 50%;
                background: #fff url(assets/svg/clock.svg) no-repeat center;
                background-size: 88%;
                height: 10em;
                position: relative;
                width: 10em;
            }

            .clock.simple:after {
                background: #000;
                border-radius: 50%;
                content: "";
                position: absolute;
                left: 50%;
                top: 50%;
                transform: translate(-50%, -50%);
                width: 5%;
                height: 5%;
                z-index: 10;
            }

            .minutes-container, .hours-container, .seconds-container {
                position: absolute;
                top: 0;
                right: 0;
                bottom: 0;
                left: 0;
            }

            .hours {
                background: #000;
                height: 20%;
                left: 48.75%;
                position: absolute;
                top: 30%;
                transform-origin: 50% 100%;
                width: 2.5%;
            }

            .minutes {
                background: #000;
                height: 40%;
                left: 49%;
                position: absolute;
                top: 10%;
                transform-origin: 50% 100%;
                width: 2%;
            }

            .seconds {
                background: #780000;
                height: 45%;
                left: 49.5%;
                position: absolute;
                top: 14%;
                transform-origin: 50% 80%;
                width: 1%;
                z-index: 8;
            }

            @keyframes rotate {
                100% {
                    transform: rotateZ(360deg);
                }
            }

            .hours-container {
                transition: transform 0.3s cubic-bezier(.4,2.08,.55,.44);
            }
            .minutes-container {
                transition: transform 0.3s cubic-bezier(.4,2.08,.55,.44);
            }
            .seconds-container {
                transition: transform 0.2s cubic-bezier(.4,2.08,.55,.44);
            }

            #close {
                float:right;
                display:inline-block;
                padding:2px 5px;
                color: #fff;
            }

            #close:hover {
                float:right;
                display:inline-block;
                padding:2px 5px;
                color:#ff7878;
            }

            .notification {
                position:absolute;
                top: 60px;
                right: 16px;
            }

            .overlay {
                position: fixed;
                display: block;
                width: 100%;
                height: 100%;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: rgba(0,0,0,0.8);
                z-index: 9999;
            }

            .text{
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%,-50%);
                -ms-transform: translate(-50%,-50%);
            }


        </style>
    </head>
    <body style="background-color: #000000; color: #ffffff;">

        <div id="no-connection" class="overlay">
            <div class="text container-fluid" style="text-align: center;">
                <h2 style="text-align: center; font-size: 4em; color: #F44336">Lost Connection!</h2>
                <h2 style="text-align: center; font-size: 2em; color: #F44336">Re-connecting to WWSU...</h2>
            </div>
        </div>

        <div class="d-flex justify-content-center flex-wrap p-3 m-3">
            <div class="card p-1 m-3 text-white bg-dark" id="operations" style="width: 640px; height: 360px;">
                <div class="card-header text-center" style="font-size: 1.5em;">WWSU Operations   <span class="badge badge-secondary" id="operations-state">Unknown</span></div>
                <div class="card-body" id="operations-body" style="overflow: auto;">
                    <div class="d-flex justify-content-start flex-wrap">
                        <div class="p-1 m-1" id="queue" style="width: 216px; text-align: center; display: none;">
                            <div style="text-align: center; font-size: 2em;">Seconds to live:</div>
                            <div class="text-warning" id="queue-seconds" style="text-align: center; font-size: 5em;">???</div>
                        </div>
                        <div class="p-1 m-1" id="no-remote" style="width: 216px; text-align: center; display: none;">
                            <div class="text-danger" style="text-align: center; font-size: 1.5em;">Lost connection to remote stream!</div>
                            <div class="text-warning" style="text-align: center; font-size: 1em;">Ensure you are streaming to the remote stream, then click Resume Show.</div>
                        </div>
                        <div id="please-wait" style="z-index: auto;">
                            <div class="text container-fluid" style="text-align: center;">
                                <h2 style="text-align: center; font-size: 2em; color: #FFC107">Please wait...</h2>
                            </div>
                        </div>
                        <div class="p-1 m-1" id="btn-return" style="width: 108px; text-align: center; display: none;">
                            <button type="button" class="btn btn-success btn-circle btn-xl border border-white"><i class="fas fa-check"></i></button>
                            <div style="text-align: center; font-size: 1em;">Resume Show</div>
                        </div>
                        <div class="p-1 m-1" id="btn-psa15" style="width: 108px; text-align: center; display: none;">
                            <button type="button" class="btn btn-purple btn-circle btn-xl border border-white"><i class="fas fa-plus"></i></button>
                            <div style="text-align: center; font-size: 1em;">+15-second PSA</div>
                        </div>
                        <div class="p-1 m-1" id="btn-psa30" style="width: 108px; text-align: center; display: none;">
                            <button type="button" class="btn btn-purple btn-circle btn-xl border border-white"><i class="fas fa-plus"></i></button>
                            <div style="text-align: center; font-size: 1em;">+30-second PSA</div>
                        </div>
                        <div class="p-1 m-1" id="btn-golive" style="width: 108px; text-align: center; display: none;">
                            <button type="button" class="btn btn-danger btn-circle btn-xl border border-white"><i class="fas fa-microphone-alt"></i></button>
                            <div style="text-align: center; font-size: 1em;">Live</div>
                        </div>
                        <div class="p-1 m-1" id="btn-goremote" style="width: 108px; text-align: center; display: none;">
                            <button type="button" class="btn btn-purple btn-circle btn-xl border border-white"><i class="fas fa-broadcast-tower"></i></button>
                            <div style="text-align: center; font-size: 1em;">Remote</div>
                        </div>
                        <div class="p-1 m-1" id="btn-gosports" style="width: 108px; text-align: center; display: none;">
                            <button type="button" class="btn btn-success btn-circle btn-xl border border-white"><i class="fas fa-trophy"></i></button>
                            <div style="text-align: center; font-size: 1em;">Sports</div>
                        </div>
                        <div class="p-1 m-1" id="btn-endshow" style="width: 108px; text-align: center; display: none;">
                            <button type="button" class="btn btn-primary btn-circle btn-xl border border-white"><i class="fas fa-microphone-alt-slash"></i></button>
                            <div style="text-align: center; font-size: 1em;">End Show</div>
                        </div>
                        <div class="p-1 m-1" id="btn-resume" style="width: 108px; text-align: center; display: none;">
                            <button type="button" class="btn btn-success btn-circle btn-xl border border-white"><i class="fas fa-check"></i></button>
                            <div style="text-align: center; font-size: 1em;">Resume Show</div>
                        </div>
                        <div class="p-1 m-1" id="btn-break" style="width: 108px; text-align: center; display: none;">
                            <button type="button" class="btn btn-info btn-circle btn-xl border border-white"><i class="fas fa-coffee"></i></button>
                            <div style="text-align: center; font-size: 1em;">Take a Break</div>
                        </div>
                        <div class="p-1 m-1" id="btn-halftime" style="width: 108px; text-align: center; display: none;">
                            <button type="button" class="btn btn-urgent btn-circle btn-xl border border-white"><i class="fas fa-hourglass"></i></button>
                            <div style="text-align: center; font-size: 1em;">Halftime</div>
                        </div>
                        <div class="p-1 m-1" id="btn-topadd" style="width: 108px; text-align: center; display: none;">
                            <button type="button" class="btn btn-purple btn-circle btn-xl border border-white" onclick="playTopAdd();"><i class="fas fa-headphones"></i></button>
                            <div style="text-align: center; font-size: 1em;">Play Top Add</div>
                        </div>
                        <div class="p-1 m-1" id="btn-liner" style="width: 108px; text-align: center; display: none;">
                            <button type="button" class="btn btn-purple btn-circle btn-xl border border-white" onclick="playLiner();"><i class="fas fa-angle-double-right"></i></button>
                            <div style="text-align: center; font-size: 1em;">Play Liner</div>
                        </div>
                        <div class="p-1 m-1" id="btn-log" style="width: 108px; text-align: center; display: none;">
                            <button type="button" class="btn btn-secondary btn-circle btn-xl border border-white" onclick="prepareLog();"><i class="fas fa-file"></i></button>
                            <div style="text-align: center; font-size: 1em;">Add a Log</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card p-1 m-3 text-white bg-dark" id="announcements" style="width: 640px; height: 360px;">
                <div class="card-header text-center" style="font-size: 1.5em;">Announcements</div>
                <div class="card-body" style="overflow: auto;" id="announcements-body">
                </div>
            </div>

            <div class="card p-1 m-3 text-white bg-dark" id="messaging" style="width: 640px; height: 360px;">
                <div class="card-header text-center" style="font-size: 1.5em;">Messaging</div>
                <div class="card-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-6">
                                <div class="d-flex justify-content-start flex-wrap">
                                    <div class="p-1 m-1" style="width: 108px; text-align: center; position: relative;">
                                        <button type="button" class="btn btn-danger btn-circle btn-xl border border-white"><i class="fas fa-exclamation-triangle"></i></button>
                                        <div style="text-align: center; font-size: 1em;">Report a Problem</div>
                                    </div>
                                    <div class="p-1 m-1" style="width: 108px; text-align: center; position: relative;">
                                        <button type="button" class="btn btn-primary btn-circle btn-xl border border-white"><i class="fas fa-question-circle"></i></button>
                                        <span class="notification badge badge-secondary">0</span>
                                        <div style="text-align: center; font-size: 1em;">Track Requests</div>
                                    </div>
                                    <div class="p-1 m-1" style="width: 108px; text-align: center; position: relative;">
                                        <button type="button" class="btn btn-purple btn-circle btn-xl border border-white"><i class="fas fa-tv"></i></button>
                                        <div style="text-align: center; font-size: 1em;">Display Signs</div>
                                    </div>
                                    <div class="p-1 m-1" style="width: 108px; text-align: center; position: relative;">
                                        <button type="button" class="btn btn-success btn-circle btn-xl border border-white"><i class="fas fa-comments"></i></button>
                                        <span class="notification badge badge-danger">4</span>
                                        <div style="text-align: center; font-size: 1em;">Messenger</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div style="text-align: center; font-size: 1em;">Unread Messages<span style="font-size: 0.66em;"><br />Click a message to read/reply, X to hide.</span></div>
                                <div style="overflow: auto; height: 220px; background-color: rgba(255, 255, 255, 0.3);">
                                    <div class="m-1 bg-dark" style="cursor: pointer;">
                                        <span id='close' onclick='this.parentNode.parentNode.removeChild(this.parentNode); return false;'>X</span>
                                        <div class="m-1">
                                            Yoo man I'm digging these vibes!<br />
                                            <span style="font-size: 0.66em;">4:21 PM by Web (Momma) (Private)</span>
                                        </div>
                                    </div>
                                    <div class="m-1 bg-dark" style="cursor: pointer;">
                                        <span id='close' onclick='this.parentNode.parentNode.removeChild(this.parentNode); return false;'>X</span>
                                        <div class="m-1">
                                            YOU SUCK!<br />
                                            <span style="font-size: 0.66em;">4:22 PM by Web (No one important)</span>
                                        </div>
                                    </div>
                                    <div class="m-1 bg-danger" style="cursor: pointer;">
                                        <span id='close' onclick='this.parentNode.parentNode.removeChild(this.parentNode); return false;'>X</span>
                                        <div class="m-1">
                                            Don't forget that I put a custom PSA to be aired on the desktop.<br />
                                            <span style="font-size: 0.66em;">4:26 PM by Engineering PC</span>
                                        </div>
                                    </div>
                                    <div class="m-1 bg-dark" style="cursor: pointer;">
                                        <span id='close' onclick='this.parentNode.parentNode.removeChild(this.parentNode); return false;'>X</span>
                                        <div class="m-1">
                                            You missed your queue, stupid!<br />
                                            <span style="font-size: 0.66em;">4:27 PM by Web (No one important)</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card p-1 m-3 text-white bg-dark" id="calendar" style="width: 640px; height: 360px;">
                <div class="card-header text-center" style="font-size: 1.5em;">Time and Calendar</div>
                <div class="card-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-4">
                                <article class="clock">
                                    <div class="hours-container">
                                        <div class="hours"></div>
                                    </div>
                                    <div class="minutes-container">
                                        <div class="minutes"></div>
                                    </div>
                                    <div class="seconds-container">
                                        <div class="seconds"></div>
                                    </div>
                                </article>
                                <div id="datestamp" style="text-align: center; font-size: 1.5em;"></div>
                            </div>
                            <div class="col-8" style="overflow: auto;" id="calendar-events">
                                <div id="track-38739" class="p-1 m-1 bg-danger" onclick="loadTrackInfo(38739);">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-4">
                                                3:30 PM
                                            </div>
                                            <div class="col-8">
                                                Ike B - The Ike B Show
                                            </div>
                                        </div>
                                    </div></div>
                                <div id="track-38739" class="p-1 m-1 bg-success" onclick="loadTrackInfo(38739);">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-4">
                                                7:30 PM
                                            </div>
                                            <div class="col-8">
                                                Raider Sports - Men's Basketball
                                            </div>
                                        </div>
                                    </div></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>


        <div id="go-live-modal">
            <div style="background-color: #393939; color: #ffffff;">
                <div class="media">
                    <img class="d-flex mr-2" src="assets/images/golive.png" alt="Going Live">
                    <div class="media-body">
                        <form>
                            <div class="form-row align-items-center">
                                <div class="col-auto">
                                    <input type="text" class="form-control mb-2 mb-sm-1" id="live-handle" placeholder="Handle / Nickname">
                                </div>
                                <div class="col-auto">
                                    <input type="text" class="form-control mb-2 mb-sm-1" id="live-show" placeholder="Show Name">
                                </div>
                            </div>
                            <div class="form-group">
                                <textarea class="form-control mb-2" id="live-topic" rows="3" maxlength="140" placeholder="Optionally, describe today's show for the website and display signs. There is a 140 character limit. This message is exactly 140 characters."></textarea>
                            </div>
                        </form>                    
                        <div class="custom-control custom-checkbox checkbox-slider--a">
                            <input type="checkbox" class="custom-control-input" id="live-webchat" checked>
                            <label class="custom-control-label" style="color: #ffffff;" for="webchat">Website chat</label>
                        </div>
                        <div class="p-1 bg-warning-dark" role="alert" id="live-noschedule">
                            <div class="m-1">
                            <strong>Caution!</strong> The DJ/Handle and show name currently typed in does not match a show scheduled to start. If you go live, this show will not count in show attendance! Further, if you did not get permission from WWSU to go live at this time, you may receive disciplinary action.
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <button type="button" class="btn btn-success" id="live-go">Go Live <img src="assets/images/live.png"></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="go-remote-modal">
            <div style="background-color: #393939; color: #ffffff;">
                <div class="media">
                    <img class="d-flex mr-2" src="assets/images/goRemote.png" alt="Going Remote">
                    <div class="media-body">
                        <form>
                            <div class="form-row align-items-center">
                                <div class="col-auto">
                                    <input type="text" class="form-control mb-2 mb-sm-1" id="remote-handle" placeholder="Host / Organization">
                                </div>
                                <div class="col-auto">
                                    <input type="text" class="form-control mb-2 mb-sm-1" id="remote-show" placeholder="Show Name">
                                </div>
                            </div>
                            <div class="form-group">
                                <textarea class="form-control mb-2" id="remote-topic" rows="3" maxlength="140" placeholder="Optionally, describe today's show for the website and display signs. There is a 140 character limit. This message is exactly 140 characters."></textarea>
                            </div>
                        </form>
                        <div class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" id="remote-webchat">
                            <label class="custom-control-label" style="color: #ffffff;" for="webchat">Website chat</label>
                        </div>
                        <div class="p-1 m-1 bg-warning-dark" id="remote-noschedule">
                            <div class="m-1">
                            <strong>Caution!</strong> The Host and Show name currently typed in does not match a remote broadcast scheduled to start. If you did not get permission from WWSU to air a remote broadcast at this time, you may receive disciplinary action.
                            </div>
                        </div>
                        <div class="p-1 m-1 bg-info-dark">
                            <div class="m-1">
                            Remember: Remote streams have a 4 second audio delay!
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <button type="button" class="btn btn-success" id="remote-go">Go Remote <img src="assets/images/remote.png"></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="go-sports-modal">
            <div style="background-color: #393939; color: #ffffff;">
                <div class="media">
                    <img class="d-flex mr-2" src="assets/images/goSports.png" alt="Going Sports">
                    <div class="media-body">
                        <form>
                            <div class="form-group">
                                <label for="showname" style="color: #ffffff;">Which Sport are you Broadcasting?</label>
                                <select class="form-control" id="sports-sport">
                                    <option value="">Choose a sport...</option>
                                    <option value="Men's Basketball">Men's Basketball</option>
                                    <option value="Women's Basketball">Women's Basketball</option>
                                    <option value="Men's Soccer">Men's Soccer</option>
                                    <option value="Women's Soccer">Women's Soccer</option>
                                    <option value="Men's Volleyball">Men's Volleyball</option>
                                    <option value="Women's Volleyball">Women's Volleyball</option>
                                    <option value="Men's Baseball">Men's Baseball</option>
                                    <option value="Women's Baseball">Women's Baseball</option>
                                    <option value="Men's Football">Men's Football</option>
                                    <option value="Women's Football">Women's Football</option>
                                </select>
                            </div>
                        </form>
                        <div class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" id="sports-remote">
                            <label class="custom-control-label" style="color: #ffffff;" for="webchat">Remote Broadcast</label>
                        </div>
                        <div class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" id="sports-webchat">
                            <label class="custom-control-label" style="color: #ffffff;" for="webchat">Website chat</label>
                        </div>
                        <div class="p-1 m-1 bg-warning-dark" id="sports-noschedule">
                            <div class="m-1">
                            <strong>Caution!</strong> The sport currently selected does not appear to be scheduled to air. If you did not get permission from WWSU to air this sports broadcast at this time, you may receive disciplinary action.
                            </div>
                        </div>
                        <div class="p-1 m-1 bg-info-dark">
                            <div class="m-1">
                            Remember: Remote streams have a 4 second audio delay!
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <button type="button" class="btn btn-success" id="sports-go">Go Sports <img src="assets/images/sports.png"></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="log-modal">
            <div style="background-color: #393939; color: #ffffff;">
                <div class="media">
                    <img class="d-flex mr-2" src="assets/images/log.png" alt="Add a Log">
                    <div class="media-body">
                        <div class="alert alert-info" role="alert">
                            You do not need to log any tracks that you play in RadioDJ; those are logged automatically by the system.
                        </div>
                        <input type="text" id="log-datetime" class="form-control" value="mm/dd/yyyy hh:mm:ss">
                        <select class="form-control" id="log-type">
                            <option value="Did an unknown action">Choose a log type...</option>
                            <option value="Played a Track">Played a Track</option>
                            <option value="Started a Talk Segment">Started a Talk Segment</option>
                            <option value="Announced a Legal ID">Announced a Legal ID</option>
                            <option value="Announced a Sweeper">Announced a Sweeper</option>
                        </select>
                        <input type="text" id="log-artist" class="form-control" placeholder="Track Artist (if applicable)">
                        <input type="text" id="log-title" class="form-control" placeholder="Track Title (if applicable)">
                        <input type="text" id="log-album" class="form-control" placeholder="Track Album (if applicable)">
                        <input type="text" id="log-label" class="form-control" placeholder="Track Record Label (if applicable)">
                        <div class="row">
                            <div class="col-3">
                                <button type="button" class="btn btn-success" id="log-add">Add entry</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>if (window.module)
                module = window.module;</script>
        <script>
            // You can also require other files to run in this process
            require('./renderer.js')
        </script>
    </body>
</html>
